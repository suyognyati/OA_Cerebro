<form name="categoryweightageform" novalidate>
	<div class="panel panel-default">
		<div class="panel-heading">
			<span style="font-family:Verdana">SELECT PROGRAM TO GENERATE MERIT LIST</span>
		</div>
		<div class="panel-body">
			<div class="row form-group">
				<div class="col-sm-3">
					<label class="labelclass">Total intake for program</label>
				</div>
				<div class="col-sm-2">
					<input 	type="number" 
							class="form-control" 
							tabindex="1"
							ng-model="vm.totalIntake"
							ng-disabled="vm.showWeightageTable"
							required>
				</div>
				<div class="col-sm-3" ng-show="!vm.showWeightageTable">
					<input type="button"
						tabindex="2"
						value="Set category wise Weightage"
						ng-click="vm.setCategoryWiseWeightage()"
						class="btn btn-success btn-block topMargin"
						ng-disabled="vm.totalIntake == null || vm.totalIntake < 1" />
				</div>
				<div class="col-sm-3" ng-show="vm.showWeightageTable">
					<input type="button"
						tabindex="2"
						value="Reset Intake"
			 			ng-click="vm.resetIntake()"
						class="btn btn-success btn-block topMargin"/>
				</div>
				
			</div>
			<div ng-show="vm.showWeightageTable">
				<div class="row">
					<div class="col-sm-12 table-responsive">		
						<table class="table table-striped table-bordered">
							<thead>
								<tr class="table-background">
									<th width="60%">Category Name</th>
									<th width="20%">Intake</th>
									<th width="20%">Intake in percentage</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="categoryWeightage in vm.data.categoryWeightageList">
									<td>{{categoryWeightage.category.value}}</td>
									<td>
										<input 	type="number" 
											class="form-control" 
											tabindex="3"
											ng-model="categoryWeightage.programCategoryWeightage.weightage"
											ng-change="vm.weightageChanged(categoryWeightage)"
											required>
									</td>
									<td>
										<div class="row">
											<div class="col-sm-9">
												<input 	type="number" 
													class="form-control" 
													tabindex="4"
													ng-model="categoryWeightage.programCategoryWeightage.weightagePercentage"
													ng-change="vm.weightagePercentageChanged(categoryWeightage)"
													required>
											</div>
											<div class="col-sm-1">%</div>
											<div class="col-sm-2"></div>
										</div>
									</td>
								</tr>
								<tr>
									<td><b>Total</b></td>
									<td><b>{{vm.totalWeightage()}}</b></td>
									<td><b>{{vm.totalWeightagePercentage()}}</b></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
	
		</div>
	</div>
	<div class="row" style="margin: 25px 0px 25px 0px;" ng-show="vm.showWeightageTable">
		<div class="col-sm-4"></div>
		<div class="col-sm-4">
			<input type="submit"
				tabindex="42"
				value="Save weightage"
				class="btn btn-success btn-block topMargin"
				ng-click="vm.submit()"
				ng-disabled="categoryweightageform.$invalid">
		</div>
		<div class="col-sm-4"></div>
	</div>
</form>