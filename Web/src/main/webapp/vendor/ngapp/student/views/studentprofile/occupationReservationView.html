<div data-loading> </div>

<form name="occupationreservationform" novalidate>

	<div class="panel panel-default">
		<div class="panel-heading">
			<span style="font-family:Verdana">OCCUPATION DETAILS</span>
		</div>
		<div class="panel-body">
			<div class="row">
				<div class="col-sm-12 form-group">
					<input type="checkbox"
						   id="selfemployed"
						   tabindex="1"
						   ng-model="vm.occupationandreservation.isSelfEmployed">
					<label for="selfemployed">Are you Employed or Self-Employed?
						<span>[Tick if Yes]</span>
					</label>
				</div>
			</div>

			<div ng-show="vm.occupationandreservation.isSelfEmployed">
				<div class="row">
					<div class="col-sm-12 form-group">
						<div class="col-sm-2">
							<label for="experience"
								   class="labelclass">Experience
							<span style="color:red"><big> * </big></span></label>
						</div>
						<div class="col-sm-3"
							 ng-class="{'has-error':occupationreservationform.experienceYrs.$invalid &&
						 							occupationreservationform.experienceYrs.$dirty}">
							<input type="number"
								   class="form-control"
								   id="experience"
								   name="experienceYrs"
								   tabindex="2"
								   ng-model="vm.occupationandreservation.experienceYrs"
								   ng-required="vm.occupationandreservation.isSelfEmployed">

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.experienceYrs.$error.required &&
											   occupationreservationform.experienceYrs.$dirty">
										Required Field</span>
							</span>
						</div>
						<div class="col-sm-1">
							<label for="experience"
								   class="labelclass">Year(s)</label>
						</div>
						<div class="col-sm-3"
							 ng-class="{'has-error':occupationreservationform.experienceMonths.$invalid &&
						 							occupationreservationform.experienceMonths.$dirty}">
							<input type="number"
								   class="form-control"
								   id="experience"
								   name="experienceMonths"
								   tabindex="3"
								   ng-model="vm.occupationandreservation.experienceMonths"
								   ng-required="vm.occupationandreservation.isSelfEmployed">

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.experienceMonths.$error.required &&
											   occupationreservationform.experienceMonths.$dirty">
										Required Field</span>
							</span>
						</div>
						<div class="col-sm-1">
							<label for="experience"
								   class="labelclass">Months</label>
						</div>
					</div>

				</div>

				<div class="row">
					<div class="col-sm-12 form-group">
						<div class="col-sm-2">
							<label for="selfoccupation"
								   class="labelclass">Occupation
							<span style="color:red"><big> * </big></span></label>
						</div>
						<div class="col-sm-4"
							 ng-class="{'has-error':occupationreservationform.selfOccupation.$invalid &&
						 							occupationreservationform.selfOccupation.$dirty}">
							<select class="selectpicker" data-width="100%"
									data-live-search="true"
									id="selfoccupation"
									name="selfOccupation" title="-- Select --" data-size="10"
									tabindex="4"
									ng-model="vm.occupationandreservation.occupation"
									ng-options="occupationList.key as occupationList.value for occupationList in vm.occupationandreservation.occupationList"
									ng-required="vm.occupationandreservation.isSelfEmployed">
							</select>

							<!-- <select class="form-control"
									id="selfoccupation"
									name="selfOccupation"
									tabindex="4"
									ng-model="vm.occupationandreservation.occupation"
									ng-options="occupationList.key as occupationList.value for occupationList in vm.occupationandreservation.occupationList"
									ng-required="vm.occupationandreservation.isSelfEmployed">
							</select> -->

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.selfOccupation.$error.required &&
											   occupationreservationform.selfOccupation.$dirty">
										Required Field</span>
							</span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12 form-group">
						<div class="col-sm-2">
							<label for="selfincome"
								   class="labelclass">Your Annual Income
							<span style="color:red"><big> * </big></span></label>
						</div>
						<div class="col-sm-4"
							 ng-class="{'has-error':occupationreservationform.selfIncome.$invalid &&
						 							occupationreservationform.selfIncome.$dirty}">
							<input type="text"
								   class="form-control"
								   id="selfincome"
								   name="selfIncome"
								   tabindex="5"
								   ng-model="vm.occupationandreservation.selfAnnualIncome"
								   ng-required="vm.occupationandreservation.isSelfEmployed">

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.selfIncome.$error.required &&
											   occupationreservationform.selfIncome.$dirty">
										Required Field</span>
							</span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12 form-group">
						<input type="checkbox"
							   id="leavewithoutpay"
							   tabindex="6"
							   ng-model="vm.occupationandreservation.isLeaveWithoutPay">
						<label for="leavewithoutpay">Have you applied for leave without pay for the entire duration of the course?
							<span>[Tick if Yes]</span>
						</label>
					</div>
				</div>
			</div>

			<div ng-show="!vm.occupationandreservation.isSelfEmployed">
				<div class="row">
					<div class="col-sm-12 form-group">
						<div class="col-sm-2">
							<label for="parentsoccupation"
								   class="labelclass">Occupation of Guardian
							<span style="color:red"><big> * </big></span></label>
						</div>
						<div class="col-sm-4"
							 ng-class="{'has-error':occupationreservationform.parentsOccupation.$invalid &&
						 							occupationreservationform.parentsOccupation.$dirty}">
							<select class="selectpicker" data-width="100%"
									data-live-search="true"
									id="parentsoccupation"
									name="parentsOccupation" title="-- Select --" data-size="10"
									tabindex="7"
									ng-model="vm.occupationandreservation.occupation"
									ng-options="occupationList.key as occupationList.value for occupationList in vm.occupationandreservation.occupationList"
									ng-required="!vm.occupationandreservation.isSelfEmployed">
							</select>

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.parentsOccupation.$error.required &&
											   occupationreservationform.parentsOccupation.$dirty">
										Required Field</span>
							</span>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12 form-group">
						<div class="col-sm-2">
							<label for="parentsincome"
								   class="labelclass">Annual Income of Guardian
							<span style="color:red"><big> * </big></span></label>
						</div>
						<div class="col-sm-4"
							 ng-class="{'has-error':occupationreservationform.parentsIncome.$invalid &&
						 							occupationreservationform.parentsIncome.$dirty}">
							<input type="text"
								   class="form-control"
								   id="parentsincome"
								   name="parentsIncome"
								   tabindex="8"
								   ng-model="vm.occupationandreservation.guardianAnnualIncome"
								   ng-required="!vm.occupationandreservation.isSelfEmployed">

							<span class="help-block has-error">
								<span ng-show="occupationreservationform.parentsIncome.$error.required &&
											   occupationreservationform.parentsIncome.$dirty">
										Required Field</span>
							</span>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 form-group">
					<input type="checkbox"
						   id="ebc"
						   tabindex="9"
						   ng-model="vm.occupationandreservation.isEligibleForEBC">
					<label for="ebc">Are you eligible for EBC (Economic Backward Class)?
						<span>[Tick if Yes]</span>
					</label>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12">
			       	<div class="well alert-danger">
			           <span>
			           Students whose family income is below defined limit, fall under EBC category.
			           The EBC certificate issued by the competent authority is mandatory.
			           </span>
			    	</div>
			    </div>
			</div>

		</div>
	</div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<span style="font-family:Verdana">CASTE DETAILS</span>
		</div>
		<div class="panel-body">
			<div class="row">
				<div class="col-sm-12 form-group">
					<div class="col-sm-2">
						<label for="category"
							   class="labelclass">Category
						<span style="color:red"><big> * </big></span></label>
					</div>
					<div class="col-sm-4"
						 ng-class="{'has-error':occupationreservationform.category.$invalid &&
					 							occupationreservationform.category.$dirty}">
						<select class="selectpicker" data-width="100%"
								data-live-search="true"
								id="category"
								name="category" title="-- Select --" data-size="10"
								tabindex="10"
								ng-model="vm.occupationandreservation.category"
								ng-options="categoryList.key as categoryList.value for categoryList in vm.occupationandreservation.categoryList"
								required>
						</select>

						<!-- <select class="form-control"
								id="category"
								name="category"
								tabindex="10"
								ng-model="vm.occupationandreservation.category"
								ng-options="categoryList.key as categoryList.value for categoryList in vm.occupationandreservation.categoryList"
								required>
						</select> -->

						<span class="help-block has-error">
							<span ng-show="occupationreservationform.category.$error.required &&
										   occupationreservationform.category.$dirty">
									Required Field</span>
						</span>
					</div>

					<div class="col-sm-2">
						<label for="religion"
							   class="labelclass">Religion
						<span style="color:red"><big> * </big></span></label>
					</div>
					<div class="col-sm-4"
						 ng-class="{'has-error':occupationreservationform.religion.$invalid &&
					 							occupationreservationform.religion.$dirty}">
						<select class="selectpicker" data-width="100%"
								data-live-search="true"
								id="religion"
								name="religion" title="-- Select --" data-size="10"
								tabindex="11"
								ng-model="vm.occupationandreservation.religion"
								ng-options="religionList.key as religionList.value for religionList in vm.occupationandreservation.religionList"
								required>
						</select>

						<!-- <select class="form-control"
								id="religion"
								name="religion"
								tabindex="11"
								required
								ng-model="vm.occupationandreservation.religion"
								ng-options="religionList.key as religionList.value for religionList in vm.occupationandreservation.religionList">
						</select> -->

						<span class="help-block has-error">
							<span ng-show="occupationreservationform.religion.$error.required &&
										   occupationreservationform.religion.$dirty">
									Required Field</span>
						</span>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 form-group">
					<div class="col-sm-2">
						<label for="caste"
							   class="labelclass">Caste</label>
					</div>
					<div class="col-sm-4">
						<input type="text"
								class="form-control"
								tabindex="12"
								ng-model="vm.occupationandreservation.caste"
								id="caste">
					</div>

					<div class="col-sm-2">
						<label for="mothertongue"
							   class="labelclass">Mother Tongue
						<span style="color:red"><big> * </big></span></label>
					</div>
					<div class="col-sm-4"
						 ng-class="{'has-error':occupationreservationform.motherTongue.$invalid &&
					 							occupationreservationform.motherTongue.$dirty}">
						<select class="selectpicker" data-width="100%"
								data-live-search="true"
								id="mothertongue"
								name="motherTongue" title="-- Select --" data-size="10"
								tabindex="13"
								ng-model="vm.occupationandreservation.motherTongue"
								ng-options="motherTongueList.key as motherTongueList.value for motherTongueList in vm.occupationandreservation.motherTongueList"
								required>
						</select>

						<!-- <select class="form-control"
								id="mothertongue"
								name="motherTongue"
								tabindex="13"
								required
								ng-model="vm.occupationandreservation.motherTongue"
								ng-options="motherTongueList.key as motherTongueList.value for motherTongueList in vm.occupationandreservation.motherTongueList">
						</select> -->

						<span class="help-block has-error">
							<span ng-show="occupationreservationform.motherTongue.$error.required &&
										   occupationreservationform.motherTongue.$dirty">
									Required Field</span>
						</span>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 form-group">
					<div class="col-sm-2">
						<label for="speciallyabled"
							   class="labelclass">Specially Abled</label>
					</div>
					<div class="col-sm-4">
						<select class="selectpicker" data-width="100%"
								data-live-search="true"
								id="speciallyabled"
								name="speciallyAbled" title="-- Select --" data-size="10"
								tabindex="14"
								ng-model="vm.occupationandreservation.speciallyAbled"
								ng-options="speciallyAbledList.key as speciallyAbledList.value for speciallyAbledList in vm.occupationandreservation.speciallyAbledList">
						</select>

						<!-- <select class="form-control"
								id="speciallyabled"
								tabindex="14"
								ng-model="vm.occupationandreservation.speciallyAbled"
								ng-options="speciallyAbledList.key as speciallyAbledList.value for speciallyAbledList in vm.occupationandreservation.speciallyAbledList">
						</select> -->
					</div>
				</div>
			</div>

			<!-- <div class="row">
				<div class="col-sm-12 form-group">
					<div class="col-sm-2">
						<label for="socialreservation"
							   class="labelclass">Social Reservation</label>
					</div>
					<div class="col-sm-10">
						<div ng-dropdown-multiselect="" 
							style="width:100%"
							tabindex="15" 
							options="vm.occupationandreservation.socialReservationList" 
							selected-model="vm.occupationandreservation.selectedSocialReservations" 
							extra-settings="vm.multiSelectComboBoxSettings"
							translation-texts="vm.multiSelectComboBoxDefaultText"
							events="vm.multiSelectEvents"> -->
								<!-- <toggle-dropdown>
									<textarea
										class="form-control"
										tabindex="15"
										ng-model="vm.occupationandreservation.selectedSocialReservations"
										ng-list
										>
									</textarea>
								</toggle-dropdown> -->
						<!-- </div>
						Selected categories :
						<pre class="ng-binding">{{vm.occupationandreservation.selectedSocialReservations|json}}</pre>
						
					</div>
				</div>
			</div> -->
			
			<!-- Temporary -->
			
			<div class="row">
				<div class="col-sm-12 form-group">
					<div class="col-sm-2">
						<label for="socialreservation"
							   class="labelclass">Social Reservation</label>
					</div>
					<div class="col-sm-10">
						<select class="selectpicker" multiple 								
								data-actions-box="true"
								id="speciallyabled"
								name="speciallyAbled" title="-- Select --" data-size="10"
								data-selected-text-format="count"
								data-width="100%"
								data-live-search="true"
								tabindex="14"
								ng-model="vm.occupationandreservation.selectedSocialReservations"
								ng-options="speciallyAbledList.key as speciallyAbledList.value for speciallyAbledList in vm.occupationandreservation.socialReservationList">
						</select>						
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="row" style="margin: 25px 0px 25px 0px;">
			<div class="col-sm-3"></div>
			<div class="col-sm-3">
	        	<input type="button"
	        		   tabindex="31"
	        		   value="Save as Draft"
	        		   class="btn btn-success btn-block topMargin"
	        		   ng-click="vm.saveDraft()">
	        </div>
			<div class="col-sm-3">
	        	<input type="submit"
	        		   tabindex="32"
	        		   value="Save and Continue"
	        		   class="btn btn-success btn-block topMargin"
	        		   ng-click="vm.submit()"
	        		   ng-disabled="occupationreservationform.$invalid">
	        </div>
	        <div class="col-sm-3"></div>
	</div>
</form>

<script type="text/javascript">

	$(".selectpicker").selectpicker("refresh");
	var delay = 1000;

	setTimeout(function() {
		$(".selectpicker").selectpicker("refresh");
	}, delay);

</script>
